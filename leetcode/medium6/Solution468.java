package algorithm.medium6;

import org.junit.Test;

/**
 * Created by youlu on 2018/10/10.
 */
public class Solution468 {
    public  boolean isIPV4(String IP){
        for(int i = 0; i < IP.length(); i++){
            if(IP.charAt(i) == '.'){
                return  true;
            }
        }

        return  false;
    }

    public  boolean check(String str){
        if(str.length() == 0 || str.length() > 3){
            return  false;
        }
        for(int i = 0; i < str.length(); i++){
            if(!(str.charAt(i) >= '0' && str.charAt(i) <= '9')){
                return  false;
            }
        }
        return  true;
    }

    public  boolean isValidIPV4(String IP){
        String[] numbers = IP.split("\\.");
        if(numbers.length != 4){
            return  false;
        }
        for(int i = 0; i < numbers.length; i++){
            if(!check(numbers[i])){
                return  false;
            }
            int value = Integer.parseInt(numbers[i]);
            if(value > 255 ||
                    (numbers[i].length() > 1 && numbers[i].charAt(0) == '0')){
                return  false;
            }
        }

        if(IP.charAt(IP.length() - 1) == '.'){
            return  false;
        }
        return  true;
    }

    /*
        ipv6-----256bits
     */
    public  boolean isValidIPV6(String IP){
        String[] address = IP.split(":");
        if(address.length != 8){
            return  false;
        }

        for(int i = 0; i < address.length; i++){
            if(address[i].length() == 0 || address[i].length() > 4){
                return false;
            }
            for(int j = 0; j < address[i].length(); j++){
                if(!((address[i].charAt(j) >= '0' && address[i].charAt(j) <= '9') ||
                        (address[i].charAt(j) >= 'A' && address[i].charAt(j) <= 'F'))){
                    return  false;
                }
            }
        }

        if(IP.charAt(IP.length() -1) == ':'){
            return  false;
        }

        return  true;
    }

    //Accepted ----7ms
    public String validIpAddress(String IP){
        String upperCasesIP = IP.toUpperCase();
        if(isIPV4(upperCasesIP)){
            if(isValidIPV4(upperCasesIP)){
                return "IPv4";
            }else {
                return  "Neither";
            }
        }else {
            if(isValidIPV6(upperCasesIP)){
                return  "IPv6";
            }else {
                return  "Neither";
            }
        }
    }


    @Test
    public  void  test(){
        String IP = "2001:0db8:85a3::8A2E:0370:7334";
//        String IP = "12..33.4";
//        String IP = "2001:0db8:85a3:0:0:8A2E:0370:7334:";
        String[] words = IP.split(":");
        System.out.println("length : " + words.length);
        for(int i = 0; i < words.length; i++){
            System.out.print(words[i] + " ");
        }
    }


    @Test
    public  void  test1(){
//        String IP = "2001:0db8:85a3:0:0:8A2E:0370:7334";
//       String IP = "172.16.254.1";
//        String IP = "172.16.254.01";
//        String IP = "02001:0db8:85a3:0000:0000:8a2e:0370:7334";
//        String IP = "1e1.4.5.6";
//        String IP = "12..33.4";
        /*String IP = "111111111111111111111111111111111111111111111111111111" +
                "111111111111111111111111111111111111111111111111111111111111" +
                "1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111.1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111.1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111.111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111" +
                "1111111111111111111111111111111111111111111111111";*/
//        String IP = "2001:0db8:85a3:0:0:8A2E:0370:7334:";
//        String IP = "1.1.1.1.";
//        String IP = "12.12.12.12.12";
        String IP = "2001:0db8:85a3:033:0:8A2E:0370:7334";
        System.out.println(validIpAddress(IP));
    }
}
